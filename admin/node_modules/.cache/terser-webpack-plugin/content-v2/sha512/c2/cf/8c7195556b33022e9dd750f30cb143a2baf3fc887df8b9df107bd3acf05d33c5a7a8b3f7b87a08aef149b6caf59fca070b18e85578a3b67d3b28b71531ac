{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3,4],{180:function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return r}));let r=[{id:1,text:\"美食\"},{id:2,text:\"电影\"},{id:3,text:\"酒店\"},{id:4,text:\"休闲\"},{id:5,text:\"外卖\"},{id:6,text:\"KTV\"},{id:7,text:\"丽人\"},{id:8,text:\"小吃\"},{id:9,text:\"周边游\"},{id:10,text:\"火车票\"}]},182:function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"page-product-create\"},[a(\"h1\",{staticClass:\"page-title\"},[t._v(t._s(t.pageTitle))]),t._v(\" \"),a(\"el-form\",{ref:\"product\",attrs:{\"label-width\":\"250px\",model:t.data,rules:t.rules}},[a(\"el-form-item\",{attrs:{label:\"商品名称\",prop:\"title\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品名称\"},model:{value:t.data.title,callback:function(e){t.$set(t.data,\"title\",e)},expression:\"data.title\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品描述\",prop:\"description\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品描述\",type:\"textarea\"},model:{value:t.data.description,callback:function(e){t.$set(t.data,\"description\",e)},expression:\"data.description\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品价格\",prop:\"price\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品价格\",type:\"number\"},model:{value:t.data.price,callback:function(e){t.$set(t.data,\"price\",e)},expression:\"data.price\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品原价\",prop:\"originPrice\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品原价\",type:\"number\"},model:{value:t.data.originPrice,callback:function(e){t.$set(t.data,\"originPrice\",e)},expression:\"data.originPrice\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品评分\",prop:\"evaluate\"}},[a(\"el-rate\",{attrs:{\"show-score\":\"\",\"allow-half\":\"\"},model:{value:t.data.evaluate,callback:function(e){t.$set(t.data,\"evaluate\",e)},expression:\"data.evaluate\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品分类\",prop:\"type\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择商品分类\"},model:{value:t.data.type,callback:function(e){t.$set(t.data,\"type\",e)},expression:\"data.type\"}},t._l(t.types,(function(t){return a(\"el-option\",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品销量\",prop:\"sales\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品销量\",type:\"number\"},model:{value:t.data.sales,callback:function(e){t.$set(t.data,\"sales\",e)},expression:\"data.sales\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品店名\",prop:\"storeName\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品店名\"},model:{value:t.data.storeName,callback:function(e){t.$set(t.data,\"storeName\",e)},expression:\"data.storeName\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品地址\",prop:\"storeAddress\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品地址\"},model:{value:t.data.storeAddress,callback:function(e){t.$set(t.data,\"storeAddress\",e)},expression:\"data.storeAddress\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品分店\",prop:\"storeNum\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品分店\",type:\"number\"},model:{value:t.data.storeNum,callback:function(e){t.$set(t.data,\"storeNum\",e)},expression:\"data.storeNum\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品图片\",prop:\"img\"}},[a(\"el-upload\",{attrs:{action:\"/admin/product/upload\",\"on-success\":t.uploadSuccess,\"on-error\":t.uploadFail,\"show-file-list\":!1}},[a(\"el-button\",{attrs:{type:\"primary\"}},[t._v(\"上传\")]),t._v(\" \"),a(\"span\",{staticClass:\"ickt-upload-tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[t._v(\"请选择商品图片\")])],1),t._v(\" \"),a(\"img\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.data.img,expression:\"data.img\"}],staticClass:\"ickt-upload-img\",attrs:{src:t.data.img,alt:\"\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"商品内容\",prop:\"content\"}},[a(\"quill-editor\",{model:{value:t.data.content,callback:function(e){t.$set(t.data,\"content\",e)},expression:\"data.content\"}})],1),t._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"success\"},on:{click:t.submitData}},[t._v(\"提交\")])],1)],1)],1)};r._withStripped=!0;var s=a(180),l={data(){let t={};return[\"img\",\"title\",\"description\",\"sales\",\"price\",\"originPrice\",\"type\",\"evaluate\",\"storeName\",\"storeAddress\",\"storeNum\",\"content\"].forEach(e=>{t[e]=[{required:!0,trigger:\"blur\",message:\"请输入数据\"}]}),{types:s.a,data:{},rules:t,pageTitle:\"创建商品\",submitUrl:\"/admin/product/create\"}},computed:{dealData(){return[\"sales\",\"price\",\"originPrice\",\"type\",\"evaluate\",\"storeNum\"].forEach(t=>{this.data[t]=+this.data[t]}),this.data}},methods:{uploadSuccess(t){0===t.errno?this.$set(this.data,\"img\",t.data):this.$message.error(t.msg)},uploadFail(){this.$message.error(\"上传失败\")},submitData(){this.$refs.product.validate(t=>{t&&this.$http.post(this.submitUrl,this.dealData).then(({data:t})=>{0===t.errno?this.$router.replace(\"/product/list/1\"):this.$message.error(t.msg)})})}}},i=a(4),o=Object(i.a)(l,r,[],!1,null,null,null);o.options.__file=\"src/views/product/Create.vue\";e.default=o.exports},186:function(t,e,a){\"use strict\";a.r(e);var r={mixins:[a(182).default],data:()=>({pageTitle:\"编辑商品\",submitUrl:\"/admin/product/update\"}),methods:{getData(){let{params:t}=this.$route;this.$http.get(\"/admin/product/detail\",{params:t}).then(({data:t})=>{0===t.errno?this.data=t.data:(this.$message.error(t.msg),this.$router.back())})}},watch:{$route(){this.getData()}},created(){this.getData()}},s=a(4),l=Object(s.a)(r,void 0,void 0,!1,null,null,null);l.options.__file=\"src/views/product/Edit.vue\";e.default=l.exports}}]);","extractedComments":[]}