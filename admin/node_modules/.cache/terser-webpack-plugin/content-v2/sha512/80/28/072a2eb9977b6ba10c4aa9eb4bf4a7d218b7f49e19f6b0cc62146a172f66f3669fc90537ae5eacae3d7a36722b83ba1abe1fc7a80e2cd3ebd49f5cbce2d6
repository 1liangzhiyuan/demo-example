{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{180:function(t,s,e){\"use strict\";e.d(s,\"a\",(function(){return i}));let i=[{id:1,text:\"美食\"},{id:2,text:\"电影\"},{id:3,text:\"酒店\"},{id:4,text:\"休闲\"},{id:5,text:\"外卖\"},{id:6,text:\"KTV\"},{id:7,text:\"丽人\"},{id:8,text:\"小吃\"},{id:9,text:\"周边游\"},{id:10,text:\"火车票\"}]},181:function(t,s,e){var i=e(184);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);e(6)(i,{});i.locals&&(t.exports=i.locals)},183:function(t,s,e){\"use strict\";var i=e(181);e.n(i).a},184:function(t,s,e){},185:function(t,s,e){\"use strict\";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"page-product-list\"},[e(\"h1\",{staticClass:\"page-title\"},[t._v(\"商品列表\")]),t._v(\" \"),e(\"div\",{staticClass:\"list-container\"},t._l(t.data,(function(s){return e(\"el-card\",{key:s._id},[e(\"img\",{attrs:{src:s.img,alt:\"\"}}),t._v(\" \"),e(\"h2\",[t._v(t._s(s.title))]),t._v(\" \"),e(\"p\",{staticClass:\"status\"},[e(\"span\",{staticClass:\"price\"},[t._v(\"￥\"+t._s(s.price))]),t._v(\" \"),e(\"span\",{staticClass:\"types\"},[t._v(t._s(t.getType(s.type)))])]),t._v(\" \"),e(\"p\",{staticClass:\"sales\"},[t._v(\"已销售\"+t._s(s.sales)+\"份\")]),t._v(\" \"),e(\"div\",{staticClass:\"btns\"},[e(\"router-link\",{staticClass:\"el-button--success el-button--mini\",attrs:{tag:\"el-button\",to:\"/product/edit/\"+s._id,type:\"success\",size:\"mini\"}},[t._v(\"修改\")]),t._v(\" \"),e(\"el-button\",{attrs:{type:\"danger\",size:\"mini\"},on:{click:function(e){return t.removeItem(s._id,s.title)}}},[t._v(\"删除\")])],1)])})),1),t._v(\" \"),e(\"div\",{staticClass:\"list-page\"},[e(\"router-link\",{staticClass:\"is-round\",attrs:{tag:\"el-button\",to:\"/product/list/\"+(t.page<2?1:t.page-1)}},[t._v(\"←上一页\")]),t._v(\" \"),e(\"router-link\",{staticClass:\"is-round\",attrs:{tag:\"el-button\",to:\"/product/list/\"+(t.page+1)}},[t._v(\"下一页→\")])],1)])};i._withStripped=!0;var a=e(180),r={props:[\"page\"],data:()=>({data:[]}),filters:{type(t){let s=a.a.find(s=>s.id==t);return s?s.text:\"其它\"}},methods:{getData(){let{params:t}=this.$route;this.$http.get(\"/admin/product/list\",{params:t}).then(({data:t})=>{0===t.errno?this.data=t.data:this.$message.error(t.msg)})},getType(t){let s=a.a.find(s=>s.id==t);return s?s.text:\"其它\"},removeItem(t,s){this.$confirm(`您确实删除“${s}”商品么`).then(()=>{this.$http.post(\"/admin/product/remove\",{id:t}).then(({data:t})=>{0===t.errno?(this.$message.success(\"删除成功\"),setTimeout(()=>{location.reload()},800)):this.$message.error(t.msg)})}).catch(()=>{})}},watch:{$route(){this.getData()}},created(){this.getData()}},n=(e(183),e(4)),o=Object(n.a)(r,i,[],!1,null,\"2079f3f8\",null);o.options.__file=\"src/views/product/List.vue\";s.default=o.exports}}]);","extractedComments":[]}